<hr>
<h1 style="text-align: center;">Room Details</h1>
<hr>
<div class="alert alert-success" *ngIf='message'>{{message}}</div>
<div class="container">
    <input type="text" placeholder="Search" [(ngModel)]="searchText" />
    <a style="margin-left: 800px;" [routerLink]="['/addRoom']" class="btn btn-success">Add Room</a>
</div>
<br>
<div class="container" style="margin-top: -120px;">
    <table class="table table-striped custab">
        <thead>
            <tr>
                <th>Room Name</th>
                <th>Room location</th>
                <th colspan="1" style="text-align: center;">Facility</th>
                <th colspan="3" style="text-align: center;">Action</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let room of rooms | filter:searchText | paginate: { itemsPerPage: 5,currentPage: p}">
                <td>{{room.name | titlecase}}</td>
                <td>{{room.location | titlecase}}</td>
                <td>
                    <p *ngFor="let role of room.facility">
                        {{role.name | uppercase}}</p>
                </td>
                <td class="text-center"><button class="btn btn-danger btn-xs" 
                    mwlConfirmationPopover
                    [popoverTitle]="popoverTitle"
                    [popoverMessage]="popoverMessage"
                    placement="left"
                    (confirm)="deleteRoom(room.id)"
                    (cancel)="cancelClicked = true">
                        Delete</button></td>
                <td><button class="btn btn-success"
                     (click)="updateRoom(room)" style="margin-left: 20px;">
                        Update</button></td>
            </tr>
        </tbody>
        <br>
        <pagination-controls (pageChange)="p = $event"></pagination-controls>
    </table>
</div>